<script type="text/javascript">
	function maakDatatable(){
		$.ajax({
			type: "GET",
			url: '../dejonge/rest/authorisatie/authorisatie/isIngelogd',
			dataType:'json',
			success: function (data) {
				if(new String(data) == "false"){
					document.location.hash='#inloggen';
				}else{
					$.ajax({  
						type: "GET",  
						url: '../dejonge/rest/medewerker/gebruiker/lijstRelaties',
						dataType: "json",  
						context: this,  
						success: function(response) {
							ko.applyBindings(new LijstRelatie(response));
						}
					});
				}
			}
		});
	};
	 
	function LijstRelatie(data){
		var self = this;
		
		self.lijst = ko.observableArray();
		$.each(data.jsonRelaties, function(i, item) {
			self.lijst.push(new Relatie(item));
		});
	}
	 
	function Relatie(data) {
		var self = this;
		
		self.id = ko.observable(data.id);
		self.voornaam = ko.observable(data.voornaam);
		self.tussenvoegsel = ko.observable(data.tussenvoegsel);
		self.achternaam = ko.observable(data.achternaam);
		self.geboortedatum = ko.observable(data.geboorteDatum);
		self.adres = ko.observable(data.adresOpgemaakt);

		self.naarDetailScherm = function(relatie){
			document.location.hash='#beherenRelatie/' + ko.utils.unwrapObservable(relatie.id);
		}
	}
	
	function reset(){
		document.location.hash='#beherenRelatie/0';
	}

</script>
	
<a href="#" onclick="reset();"><img src="images/add.png" alt="Toevoegen Relatie" /></a>

<table class="table">
	<tr>
		<th>Voornaam</th>
		<th>Tussenvoegsel</th>
		<th>Achternaam</th>
		<th>Geboortedatum</th>
		<th>Adres</th>
	</tr>
	<tbody data-bind="foreach: lijst">
		<tr>
			<td data-bind="text : voornaam, click: naarDetailScherm" name="voornaam" style="cursor:pointer;"></td>
			<td data-bind="text : tussenvoegsel, click: naarDetailScherm" name="tussenvoegsel" style="cursor:pointer;"></td>
			<td data-bind="text : achternaam, click: naarDetailScherm" name="achternaam" style="cursor:pointer;"></td>
			<td data-bind="text : geboortedatum, click: naarDetailScherm" name="geboortedatum" style="cursor:pointer;"></td>
			<td data-bind="text : adres, click: naarDetailScherm" name="adres" style="cursor:pointer;"></td>
		</tr>
	</tbody>
</table>
	